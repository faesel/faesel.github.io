<!DOCTYPE html><!--KSYGFubLUJ6D_p71ru4LK--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/images/logo-small.png"/><link rel="preload" as="image" href="https://images.ctfassets.net/wjg1udsw901v/4N5m97m5WfdJi5u7D8I4tX/00d1a21ab7ce8db54af5fa6f84f89e9d/article-banner.jpg"/><link rel="stylesheet" href="/_next/static/chunks/19d110f125a6a880.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/chunks/4c98436a675d5713.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/ba947f6798c3c403.js"/><script src="/_next/static/chunks/9a513a8c4dabec14.js" async=""></script><script src="/_next/static/chunks/713fc8ad9ceac69a.js" async=""></script><script src="/_next/static/chunks/19e94e7551cef099.js" async=""></script><script src="/_next/static/chunks/turbopack-2ca5897f65736e1e.js" async=""></script><script src="/_next/static/chunks/8be72f203fe36d6f.js" async=""></script><script src="/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/_next/static/chunks/708205fa81a1891d.js" async=""></script><script src="/_next/static/chunks/34e59d4fa8652639.js" async=""></script><link rel="preload" href="/_next/static/chunks/578ca6ed020117e9.css" as="style"/><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-Y039CLFJME" as="script"/><title>Electron &amp; New Relic Integration Using Open Telemetry | Tech Blog | FAESEL.COM</title><meta name="description" content="
# Introduction

Recently I encountered a scenario where I needed to integrate New Relic into my Electron application. New Relic supports a number of integratio"/><link rel="author" href="https://www.faesel.com/about"/><meta name="author" content="Faesel Saeed"/><meta name="keywords" content="electron,new-relic,open-telemetry,tracing,logging,jaeger,otlp,ipc-channel"/><meta property="og:title" content="Electron &amp; New Relic Integration Using Open Telemetry"/><meta property="og:description" content="
# Introduction

Recently I encountered a scenario where I needed to integrate New Relic into my Electron application. New Relic supports a number of integratio"/><meta property="og:image" content="https://images.ctfassets.net/wjg1udsw901v/4N5m97m5WfdJi5u7D8I4tX/00d1a21ab7ce8db54af5fa6f84f89e9d/article-banner.jpg"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2023-03-17T00:00+00:00"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@faeselsaeed"/><meta name="twitter:creator" content="@faeselsaeed"/><meta name="twitter:title" content="Electron &amp; New Relic Integration Using Open Telemetry"/><meta name="twitter:description" content="
# Introduction

Recently I encountered a scenario where I needed to integrate New Relic into my Electron application. New Relic supports a number of integratio"/><meta name="twitter:image" content="https://images.ctfassets.net/wjg1udsw901v/4N5m97m5WfdJi5u7D8I4tX/00d1a21ab7ce8db54af5fa6f84f89e9d/article-banner.jpg"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" href="/favicon.ico"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","name":"Faesel Saeed","url":"https://www.faesel.com","logo":{"@type":"ImageObject","url":"https://www.faesel.com/images/logo.png"},"sameAs":["https://github.com/faesel","https://www.linkedin.com/in/faesel-saeed-a97b1614"]}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","name":"FAESEL.COM","url":"https://www.faesel.com","description":"A modern tech blog exploring technology, coding, and digital innovation","publisher":{"@type":"Organization","name":"Faesel Saeed","url":"https://www.faesel.com"}}</script><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body><div hidden=""><!--$--><!--/$--></div><a href="#main-content" class="skip-to-content">Skip to content</a><header class="Header-module__hBw1pG__header"><div class="Header-module__hBw1pG__container"><a class="Header-module__hBw1pG__logo" aria-label="Home" href="/"><img alt="Logo" width="40" height="40" decoding="async" data-nimg="1" class="Header-module__hBw1pG__logoImage" style="color:transparent" src="/images/logo-small.png"/></a><button class="Header-module__hBw1pG__mobileMenuButton" aria-label="Toggle menu" aria-expanded="false">‚ò∞</button><nav class="Header-module__hBw1pG__nav " role="navigation" aria-label="Main navigation"><a class="Header-module__hBw1pG__navLink " href="/">Home</a><a class="Header-module__hBw1pG__navLink " href="/blog">Blog</a><a class="Header-module__hBw1pG__navLink " href="/projects">Projects</a><a class="Header-module__hBw1pG__navLink " href="/about">About</a><a class="Header-module__hBw1pG__navLink " href="/contact">Contact</a></nav></div></header><main id="main-content" style="min-height:70vh"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Electron & New Relic Integration Using Open Telemetry","description":"\n# Introduction\n\nRecently I encountered a scenario where I needed to integrate New Relic into my Electron application. New Relic supports a number of integratio","image":"https://images.ctfassets.net/wjg1udsw901v/4N5m97m5WfdJi5u7D8I4tX/00d1a21ab7ce8db54af5fa6f84f89e9d/article-banner.jpg","datePublished":"2023-03-17T00:00+00:00","dateModified":"2023-03-17T00:00+00:00","author":{"@type":"Person","name":"Faesel Saeed","url":"https://www.faesel.com/about"},"publisher":{"@type":"Organization","name":"Faesel Saeed","url":"https://www.faesel.com","logo":{"@type":"ImageObject","url":"https://www.faesel.com/images/logo.png"}},"keywords":"electron, new-relic, open-telemetry, tracing, logging, jaeger, otlp, ipc-channel","url":"https://www.faesel.com/blog/electron-newrelic-integration-using-open-telemetry","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.faesel.com/blog/electron-newrelic-integration-using-open-telemetry"}}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://www.faesel.com"},{"@type":"ListItem","position":2,"name":"Blog","item":"https://www.faesel.com/blog"},{"@type":"ListItem","position":3,"name":"Electron & New Relic Integration Using Open Telemetry","item":"https://www.faesel.com/blog/electron-newrelic-integration-using-open-telemetry"}]}</script><article class="page-module__dgei_G__article"><a class="page-module__dgei_G__backLink" href="/blog">‚Üê Back to Blog</a><header class="page-module__dgei_G__header"><h1 class="page-module__dgei_G__title">Electron &amp; New Relic Integration Using Open Telemetry</h1><div class="page-module__dgei_G__meta"><time class="page-module__dgei_G__date" dateTime="2023-03-17T00:00+00:00">üìÖ <!-- -->March 17, 2023</time><span class="page-module__dgei_G__separator">‚Ä¢</span><span class="page-module__dgei_G__readingTime">‚è±Ô∏è <!-- -->8 min read</span></div><div class="page-module__dgei_G__tags"><span class="page-module__dgei_G__tag">electron</span><span class="page-module__dgei_G__tag">new-relic</span><span class="page-module__dgei_G__tag">open-telemetry</span><span class="page-module__dgei_G__tag">tracing</span><span class="page-module__dgei_G__tag">logging</span><span class="page-module__dgei_G__tag">jaeger</span><span class="page-module__dgei_G__tag">otlp</span><span class="page-module__dgei_G__tag">ipc-channel</span></div></header><div class="page-module__dgei_G__heroImage"><img alt="Electron &amp; New Relic Integration Using Open Telemetry" decoding="async" data-nimg="fill" class="page-module__dgei_G__heroImageImg" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="https://images.ctfassets.net/wjg1udsw901v/4N5m97m5WfdJi5u7D8I4tX/00d1a21ab7ce8db54af5fa6f84f89e9d/article-banner.jpg"/></div><div class="ShareButtons-module__iQZDeW__floating"><div class="ShareButtons-module__iQZDeW__buttons"><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fwww.faesel.com%2Fblog%2Felectron-newrelic-integration-using-open-telemetry&amp;text=Electron%20%26%20New%20Relic%20Integration%20Using%20Open%20Telemetry" target="_blank" rel="noopener noreferrer" class="ShareButtons-module__iQZDeW__button ShareButtons-module__iQZDeW__twitter" aria-label="Share on Twitter"><svg viewBox="0 0 24 24" class="ShareButtons-module__iQZDeW__icon"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg></a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.faesel.com%2Fblog%2Felectron-newrelic-integration-using-open-telemetry" target="_blank" rel="noopener noreferrer" class="ShareButtons-module__iQZDeW__button ShareButtons-module__iQZDeW__linkedin" aria-label="Share on LinkedIn"><svg viewBox="0 0 24 24" class="ShareButtons-module__iQZDeW__icon"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.faesel.com%2Fblog%2Felectron-newrelic-integration-using-open-telemetry" target="_blank" rel="noopener noreferrer" class="ShareButtons-module__iQZDeW__button ShareButtons-module__iQZDeW__facebook" aria-label="Share on Facebook"><svg viewBox="0 0 24 24" class="ShareButtons-module__iQZDeW__icon"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></a><a href="https://reddit.com/submit?url=https%3A%2F%2Fwww.faesel.com%2Fblog%2Felectron-newrelic-integration-using-open-telemetry&amp;title=Electron%20%26%20New%20Relic%20Integration%20Using%20Open%20Telemetry" target="_blank" rel="noopener noreferrer" class="ShareButtons-module__iQZDeW__button ShareButtons-module__iQZDeW__reddit" aria-label="Share on Reddit"><svg viewBox="0 0 24 24" class="ShareButtons-module__iQZDeW__icon"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"></path></svg></a><a href="mailto:?subject=Electron%20%26%20New%20Relic%20Integration%20Using%20Open%20Telemetry&amp;body=%0A%23%20Introduction%0A%0ARecently%20I%20encountered%20a%20scenario%20where%20I%20needed%20to%20integrate%20New%20Relic%20into%20my%20Electron%20application.%20New%20Relic%20supports%20a%20number%20of%20integratio%0A%0Ahttps%3A%2F%2Fwww.faesel.com%2Fblog%2Felectron-newrelic-integration-using-open-telemetry" class="ShareButtons-module__iQZDeW__button ShareButtons-module__iQZDeW__email" aria-label="Share via Email"><svg viewBox="0 0 24 24" class="ShareButtons-module__iQZDeW__icon"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></svg></a><button class="ShareButtons-module__iQZDeW__button ShareButtons-module__iQZDeW__copy " aria-label="Copy link"><svg viewBox="0 0 24 24" class="ShareButtons-module__iQZDeW__icon"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div></div><div class="page-module__dgei_G__content"><h1>Introduction</h1>
<p>Recently I encountered a scenario where I needed to integrate New Relic into my Electron application. New Relic supports a number of integration types our the box, some of the more heavily used ones are,</p>
<ul>
<li>APM Agents - Primary used for backend tracking, most of the documentation will point to integrating in this style.</li>
<li>Browser Agent - Used for front end client side logging.</li>
</ul>
<p>Integrating the browser agent was a simple task of adding a logging script to the HTML page hosting the app ... easy so far. Because Electron is effectively loading up a chromium browser, the browser agent should work as normal. The APM Agent on the other hand was a different story, after having scoured the internet I found that its currently not supported with Electron. In fact if you look at the documentation for Electron, there is a suspicious absence of logging documentation. This might be down to the unique way Electrons IPC channels (inter-process-communication, allows for backend and front end communication using an event based model) work.</p>
<p>Due to this I knew we would require a manual approach to logging, this is where Open Telemetry comes into play. Using Open Telemetry we can bootstrap the app on startup and start manually adding tracing logs in any backend IPC handler. Since most logging providers now support Open Telemetry, including New Relic we have a mechanism to export out logs out.</p>
<p>This article was created as a complete guide to the approach mentioned above. Due to the lack of examples and documentation online I hope this article comes in use for someone. In the example below I was using Electron with Vite and Typescript.</p>
<h1>Installing Dependencies</h1>
<p>To get started open telemetry has a couple of packages that need installing,</p>
<pre><code class="hljs language-bash"><span class="code-line"><span class="line-number">1</span><span class="line-content">npm install @opentelemetry/api</span></span>
<span class="code-line"><span class="line-number">2</span><span class="line-content">npm install @opentelemetry/auto-instrumentations-node</span></span>
<span class="code-line"><span class="line-number">3</span><span class="line-content">npm install @opentelemetry/exporter-trace-otlp-http</span></span>
<span class="code-line"><span class="line-number">4</span><span class="line-content">npm install @opentelemetry/instrumentation</span></span>
<span class="code-line"><span class="line-number">5</span><span class="line-content">npm install @opentelemetry/resources</span></span>
<span class="code-line"><span class="line-number">6</span><span class="line-content">npm install @opentelemetry/semantic-conventions</span></span></code></pre><h1>Bootstrapping the App</h1>
<p>The first step to integration is to connect into the startup process of Electron and instrument our Open Telemetry tracer. As Open Telemetry allows you to export your logs to multiple 3rd parties the example below will first show you how to get started with Jaeger an open source tracing sink and then expand this to New Relic.</p>
<h2>Hooking into Startup</h2>
<p>The first part of coding is to hook into the startup process your application. Electron conveniently has a <code>whenReady()</code> function that is called when electron has finished initialising. We can make use of this function to register our tracer.</p>
<p>Let&#39;s first start by creating a <code>tracing.ts</code> file in the root of the application. In this file we will have two functions, one to register a tracer and another to get the tracer. We are also going to pass through some useful information to the tracer like the application version, and operating system so that all our logs have some base information they can relay back to New Relic.</p>
<pre><code class="hljs language-javascript"><span class="code-line"><span class="line-number">1</span><span class="line-content"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> registerTracer = (<span class="hljs-attr">appVersion</span>: string, <span class="hljs-attr">operatingSystem</span>: string): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</span></span>
<span class="code-line"><span class="line-number">2</span><span class="line-content">	<span class="hljs-comment">//Registration code here</span></span></span>
<span class="code-line"><span class="line-number">3</span><span class="line-content">}</span></span>
<span class="code-line"><span class="line-number">4</span><span class="line-content"></span></span>
<span class="code-line"><span class="line-number">5</span><span class="line-content"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getTracer = (): <span class="hljs-function"><span class="hljs-params">Tracer</span> =&gt;</span> {</span></span>
<span class="code-line"><span class="line-number">6</span><span class="line-content">	<span class="hljs-comment">//Code to get tracer here</span></span></span>
<span class="code-line"><span class="line-number">7</span><span class="line-content">}</span></span></code></pre><p>Next we can call the register function on startup,</p>
<pre><code class="hljs language-javascript"><span class="code-line"><span class="line-number">1</span><span class="line-content"><span class="hljs-keyword">import</span> { app } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;electron&quot;</span></span></span>
<span class="code-line"><span class="line-number">2</span><span class="line-content"></span></span>
<span class="code-line"><span class="line-number">3</span><span class="line-content">app.<span class="hljs-title function_">whenReady</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</span></span>
<span class="code-line"><span class="line-number">4</span><span class="line-content">	<span class="hljs-comment">//For me this is the version defined in my package.json</span></span></span>
<span class="code-line"><span class="line-number">5</span><span class="line-content">	<span class="hljs-keyword">const</span> appVersion = app.<span class="hljs-title function_">getVersion</span>();</span></span>
<span class="code-line"><span class="line-number">6</span><span class="line-content">	<span class="hljs-comment">//Part of NodeJS&#x27;s way of detirmining the platform</span></span></span>
<span class="code-line"><span class="line-number">7</span><span class="line-content">	<span class="hljs-keyword">const</span> operatingSystem = process.<span class="hljs-property">platform</span>;</span></span>
<span class="code-line"><span class="line-number">8</span><span class="line-content"></span></span>
<span class="code-line"><span class="line-number">9</span><span class="line-content">	<span class="hljs-title function_">registerTracer</span>(appVersion, operatingSystem);</span></span>
<span class="code-line"><span class="line-number">10</span><span class="line-content">});</span></span></code></pre><h2>Configuring the Tracer</h2>
<p>Now that we have some functions to hook into we can flesh them out with our configuration. For ease of copy and paste im going to first code dump and the file then explain each part.</p>
<pre><code class="hljs language-javascript"><span class="code-line"><span class="line-number">1</span><span class="line-content"><span class="hljs-comment">/*tracing.ts*/</span></span></span>
<span class="code-line"><span class="line-number">2</span><span class="line-content"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BatchSpanProcessor</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@opentelemetry/sdk-trace-base&quot;</span>;</span></span>
<span class="code-line"><span class="line-number">3</span><span class="line-content"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Resource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@opentelemetry/resources&quot;</span>;</span></span>
<span class="code-line"><span class="line-number">4</span><span class="line-content"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SemanticResourceAttributes</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@opentelemetry/semantic-conventions&quot;</span>;</span></span>
<span class="code-line"><span class="line-number">5</span><span class="line-content"><span class="hljs-keyword">import</span> {</span></span>
<span class="code-line"><span class="line-number">6</span><span class="line-content">  <span class="hljs-title class_">NodeTracerProvider</span>,</span></span>
<span class="code-line"><span class="line-number">7</span><span class="line-content">  <span class="hljs-title class_">SimpleSpanProcessor</span>,</span></span>
<span class="code-line"><span class="line-number">8</span><span class="line-content">} <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@opentelemetry/sdk-trace-node&quot;</span>;</span></span>
<span class="code-line"><span class="line-number">9</span><span class="line-content"><span class="hljs-keyword">import</span> { registerInstrumentations } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@opentelemetry/instrumentation&quot;</span>;</span></span>
<span class="code-line"><span class="line-number">10</span><span class="line-content"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">OTLPTraceExporter</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@opentelemetry/exporter-trace-otlp-http&quot;</span>;</span></span>
<span class="code-line"><span class="line-number">11</span><span class="line-content"></span></span>
<span class="code-line"><span class="line-number">12</span><span class="line-content"><span class="hljs-keyword">import</span> opentelemetry, { <span class="hljs-title class_">Tracer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@opentelemetry/api&quot;</span>;</span></span>
<span class="code-line"><span class="line-number">13</span><span class="line-content"><span class="hljs-keyword">import</span> { getNodeAutoInstrumentations } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@opentelemetry/auto-instrumentations-node&quot;</span>;</span></span>
<span class="code-line"><span class="line-number">14</span><span class="line-content"></span></span>
<span class="code-line"><span class="line-number">15</span><span class="line-content"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">NEWRELIC_APP_NAME</span> = <span class="hljs-string">&quot;APP NAME GOES HERE&quot;</span>;</span></span>
<span class="code-line"><span class="line-number">16</span><span class="line-content"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">IS_DEVELOPMENT</span> = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">DEV</span>;</span></span>
<span class="code-line"><span class="line-number">17</span><span class="line-content"></span></span>
<span class="code-line"><span class="line-number">18</span><span class="line-content"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> registerTracer = (<span class="hljs-attr">appVersion</span>: string, <span class="hljs-attr">operatingSystem</span>: string): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</span></span>
<span class="code-line"><span class="line-number">19</span><span class="line-content">  <span class="hljs-title function_">registerInstrumentations</span>({</span></span>
<span class="code-line"><span class="line-number">20</span><span class="line-content">    <span class="hljs-attr">instrumentations</span>: [</span></span>
<span class="code-line"><span class="line-number">21</span><span class="line-content">      <span class="hljs-title function_">getNodeAutoInstrumentations</span>(),</span></span>
<span class="code-line"><span class="line-number">22</span><span class="line-content">      <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span> Add an instrumentation library here when electron is supported</span></span></span>
<span class="code-line"><span class="line-number">23</span><span class="line-content">    ],</span></span>
<span class="code-line"><span class="line-number">24</span><span class="line-content">  });</span></span>
<span class="code-line"><span class="line-number">25</span><span class="line-content"></span></span>
<span class="code-line"><span class="line-number">26</span><span class="line-content">  <span class="hljs-keyword">const</span> resource = <span class="hljs-title class_">Resource</span>.<span class="hljs-title function_">default</span>().<span class="hljs-title function_">merge</span>(</span></span>
<span class="code-line"><span class="line-number">27</span><span class="line-content">    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Resource</span>({</span></span>
<span class="code-line"><span class="line-number">28</span><span class="line-content">      [<span class="hljs-title class_">SemanticResourceAttributes</span>.<span class="hljs-property">SERVICE_NAME</span>]: <span class="hljs-variable constant_">NEWRELIC_APP_NAME</span>,</span></span>
<span class="code-line"><span class="line-number">29</span><span class="line-content">      [<span class="hljs-title class_">SemanticResourceAttributes</span>.<span class="hljs-property">SERVICE_VERSION</span>]: appVersion,</span></span>
<span class="code-line"><span class="line-number">30</span><span class="line-content">      [<span class="hljs-title class_">SemanticResourceAttributes</span>.<span class="hljs-property">OS_NAME</span>]: operatingSystem,</span></span>
<span class="code-line"><span class="line-number">31</span><span class="line-content">    })</span></span>
<span class="code-line"><span class="line-number">32</span><span class="line-content">  );</span></span>
<span class="code-line"><span class="line-number">33</span><span class="line-content"></span></span>
<span class="code-line"><span class="line-number">34</span><span class="line-content">  <span class="hljs-keyword">const</span> provider = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NodeTracerProvider</span>({</span></span>
<span class="code-line"><span class="line-number">35</span><span class="line-content">    <span class="hljs-attr">resource</span>: resource,</span></span>
<span class="code-line"><span class="line-number">36</span><span class="line-content">  });</span></span>
<span class="code-line"><span class="line-number">37</span><span class="line-content"></span></span>
<span class="code-line"><span class="line-number">38</span><span class="line-content">  <span class="hljs-keyword">const</span> otlpExporter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OTLPTraceExporter</span>({</span></span>
<span class="code-line"><span class="line-number">39</span><span class="line-content">	<span class="hljs-comment">//Jaeger tracing url</span></span></span>
<span class="code-line"><span class="line-number">40</span><span class="line-content">	<span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;http://localhost:4318/v1/traces&#x27;</span></span></span>
<span class="code-line"><span class="line-number">41</span><span class="line-content">  });</span></span>
<span class="code-line"><span class="line-number">42</span><span class="line-content"></span></span>
<span class="code-line"><span class="line-number">43</span><span class="line-content">  <span class="hljs-keyword">const</span> processor = <span class="hljs-variable constant_">IS_DEVELOPMENT</span></span></span>
<span class="code-line"><span class="line-number">44</span><span class="line-content">    ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleSpanProcessor</span>(otlpExporter)</span></span>
<span class="code-line"><span class="line-number">45</span><span class="line-content">    : <span class="hljs-keyword">new</span> <span class="hljs-title class_">BatchSpanProcessor</span>(otlpExporter);</span></span>
<span class="code-line"><span class="line-number">46</span><span class="line-content"></span></span>
<span class="code-line"><span class="line-number">47</span><span class="line-content">  provider.<span class="hljs-title function_">addSpanProcessor</span>(processor);</span></span>
<span class="code-line"><span class="line-number">48</span><span class="line-content">  provider.<span class="hljs-title function_">register</span>();</span></span>
<span class="code-line"><span class="line-number">49</span><span class="line-content">};</span></span></code></pre><p><em>Note <code>import.meta.env</code> is just Vite&#39;s way of getting hold of environment variables.</em></p>
<p>You might firstly notice that there is a <code>TODO</code> in the code, if and when Electron supports a plugin style integration with open telemetry, the <code>instrumentations</code> array will be the place to add it. For now we are manually instrumenting the app.</p>
<p>The resources section is given to use using the <code>@opentelemetry/resources</code> and <code>@opentelemetry/semantic-conventions</code> packages. It allows us to define some base properties we want to show in all our tracing logs. Obvious things like the app version, and operating systems (especially if your targeting multiple systems) are really useful bits of information to add. There are also some built in attributes for Kubernetes and oddly enough AWS (with some generic ones for other cloud providers).</p>
<p>In terms of the <code>OTLPTraceExporter</code> block, as we opted to do our tracing using HTTP (GRPC is also an option) with the package <code>@opentelemetry/exporter-trace-otlp-http</code> i have added some basic settings for Jaeger. Note that you can add a number of exporters here, and we will also be extending this to include New Relic.</p>
<p>The final part in question is the processors themselves, open telemetry has a few options on how you might want to push your logs to 3rd parties. Ive opted to use a <code>SimpleSpanProcessor</code> when running the app locally so that my logs are immediately pushed to the servers when testing things out. However in production im making use of a <code>BatchSpanProcessor</code> that batches a group of logs and then pushes them in one go. This helps reduce network traffic of the app.</p>
<h2>Exposing a Tracer</h2>
<p>In order to get an actual tracer we can get an instance from the global tracing provider using the <code>getTracer()</code> function. This tracer object then allows us to create logs in the shape of a <code>snap</code>. It is advised to call <code>getTracer</code> every time you need to start logging as opposed to maintaining your own instance.</p>
<pre><code class="hljs language-javascript"><span class="code-line"><span class="line-number">1</span><span class="line-content"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">GetTracer</span> = () : <span class="hljs-function"><span class="hljs-params">Tracer</span> =&gt;</span> {</span></span>
<span class="code-line"><span class="line-number">2</span><span class="line-content">  <span class="hljs-keyword">return</span> opentelemetry.<span class="hljs-property">trace</span>.<span class="hljs-title function_">getTracer</span>(<span class="hljs-variable constant_">NEWRELIC_APP_NAME</span>);</span></span>
<span class="code-line"><span class="line-number">3</span><span class="line-content">}</span></span></code></pre><h1>Adding a Tracing Example</h1>
<p>Now that we have added all our logging code we can finally create an actual log entry. To do this we can create a new span, in which we can raise new events and record exceptions. In the example below i&#39;ve added some logging to an IPC handler.</p>
<pre><code class="hljs language-javascript"><span class="code-line"><span class="line-number">1</span><span class="line-content"><span class="hljs-keyword">import</span> { ipcMain } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;electron&#x27;</span></span></span>
<span class="code-line"><span class="line-number">2</span><span class="line-content"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GetTracer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./tracing&#x27;</span></span></span>
<span class="code-line"><span class="line-number">3</span><span class="line-content"></span></span>
<span class="code-line"><span class="line-number">4</span><span class="line-content"><span class="hljs-keyword">const</span> <span class="hljs-title function_">createWindow</span> = (<span class="hljs-params"></span>) =&gt; {</span></span>
<span class="code-line"><span class="line-number">5</span><span class="line-content">	<span class="hljs-comment">//Create new browser window</span></span></span>
<span class="code-line"><span class="line-number">6</span><span class="line-content">	ipcMain.<span class="hljs-title function_">handle</span>(<span class="hljs-string">&quot;getDinosaurs&quot;</span>, <span class="hljs-title function_">async</span> () =&gt; {</span></span>
<span class="code-line"><span class="line-number">7</span><span class="line-content">		<span class="hljs-keyword">await</span> <span class="hljs-title class_">GetTracer</span>().<span class="hljs-title function_">startActiveSpan</span>(<span class="hljs-string">&quot;getDinosaurs&quot;</span>, <span class="hljs-title function_">async</span> (span) =&gt; {</span></span>
<span class="code-line"><span class="line-number">8</span><span class="line-content">			<span class="hljs-comment">//await getDinosaurs()</span></span></span>
<span class="code-line"><span class="line-number">9</span><span class="line-content"></span></span>
<span class="code-line"><span class="line-number">10</span><span class="line-content">			<span class="hljs-comment">//Record one or many events in your code blocks</span></span></span>
<span class="code-line"><span class="line-number">11</span><span class="line-content">			span.<span class="hljs-title function_">addEvent</span>(<span class="hljs-string">&quot;receivedDinosaur&quot;</span>, { <span class="hljs-attr">name</span>: dinoName  });</span></span>
<span class="code-line"><span class="line-number">12</span><span class="line-content">			<span class="hljs-comment">//Record exceptions in your code block</span></span></span>
<span class="code-line"><span class="line-number">13</span><span class="line-content">			span.<span class="hljs-title function_">recordException</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Ops their all extinct!`</span>));</span></span>
<span class="code-line"><span class="line-number">14</span><span class="line-content">			span.<span class="hljs-title function_">end</span>();</span></span>
<span class="code-line"><span class="line-number">15</span><span class="line-content">		});</span></span>
<span class="code-line"><span class="line-number">16</span><span class="line-content">	});</span></span>
<span class="code-line"><span class="line-number">17</span><span class="line-content">}</span></span></code></pre><h1>Testing with Jaeger</h1>
<p>To test this out with Jaeger you can first execute the following docker command to create a new instance of Jaeger with OTLP enabled.</p>
<pre><code class="hljs language-bash"><span class="code-line"><span class="line-number">1</span><span class="line-content">docker run -d --name jaeger \</span></span>
<span class="code-line"><span class="line-number">2</span><span class="line-content">  -e COLLECTOR_ZIPKIN_HOST_PORT=:9411 \</span></span>
<span class="code-line"><span class="line-number">3</span><span class="line-content">  -e COLLECTOR_OTLP_ENABLED=<span class="hljs-literal">true</span> \</span></span>
<span class="code-line"><span class="line-number">4</span><span class="line-content">  -p 6831:6831/udp \</span></span>
<span class="code-line"><span class="line-number">5</span><span class="line-content">  -p 6832:6832/udp \</span></span>
<span class="code-line"><span class="line-number">6</span><span class="line-content">  -p 5778:5778 \</span></span>
<span class="code-line"><span class="line-number">7</span><span class="line-content">  -p 16686:16686 \</span></span>
<span class="code-line"><span class="line-number">8</span><span class="line-content">  -p 4317:4317 \</span></span>
<span class="code-line"><span class="line-number">9</span><span class="line-content">  -p 4318:4318 \</span></span>
<span class="code-line"><span class="line-number">10</span><span class="line-content">  -p 14250:14250 \</span></span>
<span class="code-line"><span class="line-number">11</span><span class="line-content">  -p 14268:14268 \</span></span>
<span class="code-line"><span class="line-number">12</span><span class="line-content">  -p 14269:14269 \</span></span>
<span class="code-line"><span class="line-number">13</span><span class="line-content">  -p 9411:9411 \</span></span>
<span class="code-line"><span class="line-number">14</span><span class="line-content">  jaegertracing/all-in-one:latest</span></span></code></pre><p>Once up and running you can navigate to the default UI url <a href="http://localhost:16686/">http://localhost:16686/</a> to start viewing your logs. It order to get something showing up you will need to run the app and begin pushing some logs to Jaeger.</p>
<h1>Setting up New Relic</h1>
<p>Everything is now setup from a code perspective, its time to create everything we need in New Relic. This step is quite quick and painless, a new key can be created from the API Keys section. Once there follow the <strong>Create a Key</strong> button. The form requires the following,</p>
<ul>
<li>Account - Set this to whatever you want</li>
<li>Key Type - Set this to <strong>Ingest - Licence</strong></li>
<li>Name - Set this to whatever you want, however it does make sense to match this up with the service name set in the section &quot;Configuring the Tracer&quot;</li>
</ul>
<p><img src="//images.ctfassets.net/wjg1udsw901v/3Eg3DL2escQx6jZdQsZYBQ/973a748bad74f91ecac6bd711f31f37a/new-relic-adding-new-api-key.png" alt="new-relic-adding-new-api-key"></p>
<p>Once thats created you should get an option to copy the key which is passed into your <code>OTLPTraceExporter</code>. As for the URL you can find New Relics OTLP endpoints on this <a href="https://docs.newrelic.com/docs/more-integrations/open-source-telemetry-integrations/opentelemetry/get-started/opentelemetry-set-up-your-app/">link</a>. Now that we have the settings needed we can change the <code>OTLPTraceExporter</code> to include the New Relic settings.</p>
<pre><code class="hljs language-javascript"><span class="code-line"><span class="line-number">1</span><span class="line-content"><span class="hljs-keyword">const</span> otlpExporter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OTLPTraceExporter</span>({</span></span>
<span class="code-line"><span class="line-number">2</span><span class="line-content">	<span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;https://otlp.nr-data.net:443&#x27;</span>,</span></span>
<span class="code-line"><span class="line-number">3</span><span class="line-content">	<span class="hljs-attr">headers</span>: {</span></span>
<span class="code-line"><span class="line-number">4</span><span class="line-content">	  <span class="hljs-string">&quot;api-key&quot;</span>: <span class="hljs-string">`API KEY GOES HERE`</span>,</span></span>
<span class="code-line"><span class="line-number">5</span><span class="line-content">	},</span></span>
<span class="code-line"><span class="line-number">6</span><span class="line-content">});</span></span></code></pre><p>Once setup you will need to send your first log before anything appears in New Relic. Once you have results will show up in APM &amp; Services &gt; Services - OpenTelemetry &gt; Click on your app name &gt; Distributed Tracing. You can drill down to view the span events and attributes.</p>
<p>New Relic also has a second method of viewing your logs through the use of NRQL queries. You can query your data by visiting <strong>Query Your Data</strong> and entering the following query,</p>
<pre><code class="hljs language-sql"><span class="code-line"><span class="line-number">1</span><span class="line-content"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span></span></span>
<span class="code-line"><span class="line-number">2</span><span class="line-content"><span class="hljs-keyword">FROM</span> SpanEvent <span class="hljs-keyword">WHERE</span> span.id <span class="hljs-keyword">IN</span> ( </span></span>
<span class="code-line"><span class="line-number">3</span><span class="line-content">	<span class="hljs-keyword">SELECT</span> id <span class="hljs-keyword">FROM</span> Span <span class="hljs-keyword">WHERE</span> otel.library.name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;YOUR APP NAME HERE&#x27;</span></span></span>
<span class="code-line"><span class="line-number">4</span><span class="line-content">)</span></span></code></pre><p>And thats it, hope this was useful for someone! Before you get integrating note that there might be some logging providers that have a much easier integration with New Relic, <a href="https://docs.sentry.io/platforms/javascript/guides/electron/">sentry.io</a> seems like one of them.</p>
</div><div class="ShareButtons-module__iQZDeW__container"><div class="ShareButtons-module__iQZDeW__label">Share this article</div><div class="ShareButtons-module__iQZDeW__buttons"><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fwww.faesel.com%2Fblog%2Felectron-newrelic-integration-using-open-telemetry&amp;text=Electron%20%26%20New%20Relic%20Integration%20Using%20Open%20Telemetry" target="_blank" rel="noopener noreferrer" class="ShareButtons-module__iQZDeW__button ShareButtons-module__iQZDeW__twitter" aria-label="Share on Twitter"><svg viewBox="0 0 24 24" class="ShareButtons-module__iQZDeW__icon"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg></a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.faesel.com%2Fblog%2Felectron-newrelic-integration-using-open-telemetry" target="_blank" rel="noopener noreferrer" class="ShareButtons-module__iQZDeW__button ShareButtons-module__iQZDeW__linkedin" aria-label="Share on LinkedIn"><svg viewBox="0 0 24 24" class="ShareButtons-module__iQZDeW__icon"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.faesel.com%2Fblog%2Felectron-newrelic-integration-using-open-telemetry" target="_blank" rel="noopener noreferrer" class="ShareButtons-module__iQZDeW__button ShareButtons-module__iQZDeW__facebook" aria-label="Share on Facebook"><svg viewBox="0 0 24 24" class="ShareButtons-module__iQZDeW__icon"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></a><a href="https://reddit.com/submit?url=https%3A%2F%2Fwww.faesel.com%2Fblog%2Felectron-newrelic-integration-using-open-telemetry&amp;title=Electron%20%26%20New%20Relic%20Integration%20Using%20Open%20Telemetry" target="_blank" rel="noopener noreferrer" class="ShareButtons-module__iQZDeW__button ShareButtons-module__iQZDeW__reddit" aria-label="Share on Reddit"><svg viewBox="0 0 24 24" class="ShareButtons-module__iQZDeW__icon"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"></path></svg></a><a href="mailto:?subject=Electron%20%26%20New%20Relic%20Integration%20Using%20Open%20Telemetry&amp;body=%0A%23%20Introduction%0A%0ARecently%20I%20encountered%20a%20scenario%20where%20I%20needed%20to%20integrate%20New%20Relic%20into%20my%20Electron%20application.%20New%20Relic%20supports%20a%20number%20of%20integratio%0A%0Ahttps%3A%2F%2Fwww.faesel.com%2Fblog%2Felectron-newrelic-integration-using-open-telemetry" class="ShareButtons-module__iQZDeW__button ShareButtons-module__iQZDeW__email" aria-label="Share via Email"><svg viewBox="0 0 24 24" class="ShareButtons-module__iQZDeW__icon"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></svg></a><button class="ShareButtons-module__iQZDeW__button ShareButtons-module__iQZDeW__copy " aria-label="Copy link"><svg viewBox="0 0 24 24" class="ShareButtons-module__iQZDeW__icon"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div></div></article><!--$--><!--/$--></main><footer class="Footer-module__S6Hkya__footer"><div class="Footer-module__S6Hkya__container"><div class="Footer-module__S6Hkya__content"><nav class="Footer-module__S6Hkya__links" aria-label="Footer navigation"><a class="Footer-module__S6Hkya__link" href="/blog">Blog</a><a class="Footer-module__S6Hkya__link" href="/projects">Projects</a><a class="Footer-module__S6Hkya__link" href="/about">About</a><a class="Footer-module__S6Hkya__link" href="/contact">Contact</a></nav><p class="Footer-module__S6Hkya__copyright">¬© <!-- -->2026<!-- --> All rights reserved.</p></div></div></footer><script src="/_next/static/chunks/ba947f6798c3c403.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[31362,[\"/_next/static/chunks/8be72f203fe36d6f.js\"],\"default\"]\n3:I[2971,[\"/_next/static/chunks/8be72f203fe36d6f.js\"],\"default\"]\n4:I[39756,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/708205fa81a1891d.js\"],\"default\"]\n5:I[37457,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/708205fa81a1891d.js\"],\"default\"]\n6:I[22016,[\"/_next/static/chunks/8be72f203fe36d6f.js\",\"/_next/static/chunks/34e59d4fa8652639.js\"],\"\"]\n8:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/708205fa81a1891d.js\"],\"OutletBoundary\"]\n9:\"$Sreact.suspense\"\nb:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/708205fa81a1891d.js\"],\"ViewportBoundary\"]\nd:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/708205fa81a1891d.js\"],\"MetadataBoundary\"]\nf:I[68027,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/708205fa81a1891d.js\"],\"default\"]\n:HL[\"/_next/static/chunks/19d110f125a6a880.css\",\"style\"]\n:HL[\"/_next/static/chunks/4c98436a675d5713.css\",\"style\"]\n:HL[\"/_next/static/chunks/578ca6ed020117e9.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"KSYGFubLUJ6D-p71ru4LK\",\"c\":[\"\",\"blog\",\"electron-newrelic-integration-using-open-telemetry\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"electron-newrelic-integration-using-open-telemetry\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/19d110f125a6a880.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/8be72f203fe36d6f.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"Organization\\\",\\\"name\\\":\\\"Faesel Saeed\\\",\\\"url\\\":\\\"https://www.faesel.com\\\",\\\"logo\\\":{\\\"@type\\\":\\\"ImageObject\\\",\\\"url\\\":\\\"https://www.faesel.com/images/logo.png\\\"},\\\"sameAs\\\":[\\\"https://github.com/faesel\\\",\\\"https://www.linkedin.com/in/faesel-saeed-a97b1614\\\"]}\"}}],[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"WebSite\\\",\\\"name\\\":\\\"FAESEL.COM\\\",\\\"url\\\":\\\"https://www.faesel.com\\\",\\\"description\\\":\\\"A modern tech blog exploring technology, coding, and digital innovation\\\",\\\"publisher\\\":{\\\"@type\\\":\\\"Organization\\\",\\\"name\\\":\\\"Faesel Saeed\\\",\\\"url\\\":\\\"https://www.faesel.com\\\"}}\"}}]]}],[\"$\",\"body\",null,{\"children\":[[\"$\",\"$L2\",null,{\"gaId\":\"G-Y039CLFJME\"}],[\"$\",\"a\",null,{\"href\":\"#main-content\",\"className\":\"skip-to-content\",\"children\":\"Skip to content\"}],[\"$\",\"$L3\",null,{}],[\"$\",\"main\",null,{\"id\":\"main-content\",\"style\":{\"minHeight\":\"70vh\"},\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"div\",null,{\"className\":\"not-found-module__HS70Aa__container\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"not-found-module__HS70Aa__title\",\"children\":\"404\"}],[\"$\",\"h2\",null,{\"className\":\"not-found-module__HS70Aa__subtitle\",\"children\":\"Page Not Found\"}],[\"$\",\"p\",null,{\"className\":\"not-found-module__HS70Aa__message\",\"children\":\"Sorry, the page you're looking for doesn't exist.\"}],[\"$\",\"$L6\",null,{\"href\":\"/\",\"className\":\"not-found-module__HS70Aa__homeLink\",\"children\":\"Go Home\"}]]}],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/578ca6ed020117e9.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"className\":\"Footer-module__S6Hkya__footer\",\"children\":[\"$\",\"div\",null,{\"className\":\"Footer-module__S6Hkya__container\",\"children\":[\"$\",\"div\",null,{\"className\":\"Footer-module__S6Hkya__content\",\"children\":[[\"$\",\"nav\",null,{\"className\":\"Footer-module__S6Hkya__links\",\"aria-label\":\"Footer navigation\",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"/blog\",\"className\":\"Footer-module__S6Hkya__link\",\"children\":\"Blog\"}],[\"$\",\"$L6\",null,{\"href\":\"/projects\",\"className\":\"Footer-module__S6Hkya__link\",\"children\":\"Projects\"}],[\"$\",\"$L6\",null,{\"href\":\"/about\",\"className\":\"Footer-module__S6Hkya__link\",\"children\":\"About\"}],[\"$\",\"$L6\",null,{\"href\":\"/contact\",\"className\":\"Footer-module__S6Hkya__link\",\"children\":\"Contact\"}]]}],[\"$\",\"p\",null,{\"className\":\"Footer-module__S6Hkya__copyright\",\"children\":[\"¬© \",2026,\" All rights reserved.\"]}]]}]}]}]]}]]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/4c98436a675d5713.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/34e59d4fa8652639.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"$L8\",null,{\"children\":[\"$\",\"$9\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@a\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$Lb\",null,{\"children\":\"$Lc\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Ld\",null,{\"children\":[\"$\",\"$9\",null,{\"name\":\"Next.Metadata\",\"children\":\"$Le\"}]}]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$f\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"11:I[5500,[\"/_next/static/chunks/8be72f203fe36d6f.js\",\"/_next/static/chunks/34e59d4fa8652639.js\"],\"Image\"]\n12:I[23150,[\"/_next/static/chunks/8be72f203fe36d6f.js\",\"/_next/static/chunks/34e59d4fa8652639.js\"],\"default\"]\n15:I[27201,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/708205fa81a1891d.js\"],\"IconMark\"]\n10:T430,{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"Electron \u0026 New Relic Integration Using Open Telemetry\",\"description\":\"\\n# Introduction\\n\\nRecently I encountered a scenario where I needed to integrate New Relic into my Electron application. New Relic supports a number of integratio\",\"image\":\"https://images.ctfassets.net/wjg1udsw901v/4N5m97m5WfdJi5u7D8I4tX/00d1a21ab7ce8db54af5fa6f84f89e9d/article-banner.jpg\",\"datePublished\":\"2023-03-17T00:00+00:00\",\"dateModified\":\"2023-03-17T00:00+00:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Faesel Saeed\",\"url\":\"https://www.faesel.com/about\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Faesel Saeed\",\"url\":\"https://www.faesel.com\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https://www.faesel.com/images/logo.png\"}},\"keywords\":\"electron, new-relic, open-telemetry, tracing, logging, jaeger, otlp, ipc-channel\",\"url\":\"https://www.faesel.com/blog/electron-newrelic-integration-using-open-telemetry\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https://www.faesel.com/blog/electron-newrelic-integration-using-open-telemetry\"}}"])</script><script>self.__next_f.push([1,"7:[[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"$10\"}}],[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"BreadcrumbList\\\",\\\"itemListElement\\\":[{\\\"@type\\\":\\\"ListItem\\\",\\\"position\\\":1,\\\"name\\\":\\\"Home\\\",\\\"item\\\":\\\"https://www.faesel.com\\\"},{\\\"@type\\\":\\\"ListItem\\\",\\\"position\\\":2,\\\"name\\\":\\\"Blog\\\",\\\"item\\\":\\\"https://www.faesel.com/blog\\\"},{\\\"@type\\\":\\\"ListItem\\\",\\\"position\\\":3,\\\"name\\\":\\\"Electron \u0026 New Relic Integration Using Open Telemetry\\\",\\\"item\\\":\\\"https://www.faesel.com/blog/electron-newrelic-integration-using-open-telemetry\\\"}]}\"}}],[\"$\",\"article\",null,{\"className\":\"page-module__dgei_G__article\",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"/blog\",\"className\":\"page-module__dgei_G__backLink\",\"children\":\"‚Üê Back to Blog\"}],[\"$\",\"header\",null,{\"className\":\"page-module__dgei_G__header\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"page-module__dgei_G__title\",\"children\":\"Electron \u0026 New Relic Integration Using Open Telemetry\"}],[\"$\",\"div\",null,{\"className\":\"page-module__dgei_G__meta\",\"children\":[[\"$\",\"time\",null,{\"className\":\"page-module__dgei_G__date\",\"dateTime\":\"2023-03-17T00:00+00:00\",\"children\":[\"üìÖ \",\"March 17, 2023\"]}],[\"$\",\"span\",null,{\"className\":\"page-module__dgei_G__separator\",\"children\":\"‚Ä¢\"}],[\"$\",\"span\",null,{\"className\":\"page-module__dgei_G__readingTime\",\"children\":[\"‚è±Ô∏è \",\"8 min read\"]}]]}],[\"$\",\"div\",null,{\"className\":\"page-module__dgei_G__tags\",\"children\":[[\"$\",\"span\",\"electron-0\",{\"className\":\"page-module__dgei_G__tag\",\"children\":\"electron\"}],[\"$\",\"span\",\"new-relic-1\",{\"className\":\"page-module__dgei_G__tag\",\"children\":\"new-relic\"}],[\"$\",\"span\",\"open-telemetry-2\",{\"className\":\"page-module__dgei_G__tag\",\"children\":\"open-telemetry\"}],[\"$\",\"span\",\"tracing-3\",{\"className\":\"page-module__dgei_G__tag\",\"children\":\"tracing\"}],[\"$\",\"span\",\"logging-4\",{\"className\":\"page-module__dgei_G__tag\",\"children\":\"logging\"}],[\"$\",\"span\",\"jaeger-5\",{\"className\":\"page-module__dgei_G__tag\",\"children\":\"jaeger\"}],[\"$\",\"span\",\"otlp-6\",{\"className\":\"page-module__dgei_G__tag\",\"children\":\"otlp\"}],[\"$\",\"span\",\"ipc-channel-7\",{\"className\":\"page-module__dgei_G__tag\",\"children\":\"ipc-channel\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"page-module__dgei_G__heroImage\",\"children\":[\"$\",\"$L11\",null,{\"src\":\"https://images.ctfassets.net/wjg1udsw901v/4N5m97m5WfdJi5u7D8I4tX/00d1a21ab7ce8db54af5fa6f84f89e9d/article-banner.jpg\",\"alt\":\"Electron \u0026 New Relic Integration Using Open Telemetry\",\"fill\":true,\"className\":\"page-module__dgei_G__heroImageImg\",\"priority\":true,\"sizes\":\"(max-width: 800px) 100vw, 800px\"}]}],[\"$\",\"$L12\",null,{\"url\":\"https://www.faesel.com/blog/electron-newrelic-integration-using-open-telemetry\",\"title\":\"Electron \u0026 New Relic Integration Using Open Telemetry\",\"description\":\"\\n# Introduction\\n\\nRecently I encountered a scenario where I needed to integrate New Relic into my Electron application. New Relic supports a number of integratio\",\"variant\":\"sidebar\"}],\"$L13\",\"$L14\"]}]]\n"])</script><script>self.__next_f.push([1,"a:null\n"])</script><script>self.__next_f.push([1,"e:[[\"$\",\"title\",\"0\",{\"children\":\"Electron \u0026 New Relic Integration Using Open Telemetry | Tech Blog | FAESEL.COM\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"\\n# Introduction\\n\\nRecently I encountered a scenario where I needed to integrate New Relic into my Electron application. New Relic supports a number of integratio\"}],[\"$\",\"link\",\"2\",{\"rel\":\"author\",\"href\":\"https://www.faesel.com/about\"}],[\"$\",\"meta\",\"3\",{\"name\":\"author\",\"content\":\"Faesel Saeed\"}],[\"$\",\"meta\",\"4\",{\"name\":\"keywords\",\"content\":\"electron,new-relic,open-telemetry,tracing,logging,jaeger,otlp,ipc-channel\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:title\",\"content\":\"Electron \u0026 New Relic Integration Using Open Telemetry\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:description\",\"content\":\"\\n# Introduction\\n\\nRecently I encountered a scenario where I needed to integrate New Relic into my Electron application. New Relic supports a number of integratio\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:image\",\"content\":\"https://images.ctfassets.net/wjg1udsw901v/4N5m97m5WfdJi5u7D8I4tX/00d1a21ab7ce8db54af5fa6f84f89e9d/article-banner.jpg\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"9\",{\"property\":\"article:published_time\",\"content\":\"2023-03-17T00:00+00:00\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:site\",\"content\":\"@faeselsaeed\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:creator\",\"content\":\"@faeselsaeed\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:title\",\"content\":\"Electron \u0026 New Relic Integration Using Open Telemetry\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:description\",\"content\":\"\\n# Introduction\\n\\nRecently I encountered a scenario where I needed to integrate New Relic into my Electron application. New Relic supports a number of integratio\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:image\",\"content\":\"https://images.ctfassets.net/wjg1udsw901v/4N5m97m5WfdJi5u7D8I4tX/00d1a21ab7ce8db54af5fa6f84f89e9d/article-banner.jpg\"}],[\"$\",\"link\",\"16\",{\"rel\":\"shortcut icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"link\",\"17\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"link\",\"18\",{\"rel\":\"apple-touch-icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"$L15\",\"19\",{}]]\n"])</script><script>self.__next_f.push([1,"16:T746c,"])</script><script>self.__next_f.push([1,"\u003ch1\u003eIntroduction\u003c/h1\u003e\n\u003cp\u003eRecently I encountered a scenario where I needed to integrate New Relic into my Electron application. New Relic supports a number of integration types our the box, some of the more heavily used ones are,\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAPM Agents - Primary used for backend tracking, most of the documentation will point to integrating in this style.\u003c/li\u003e\n\u003cli\u003eBrowser Agent - Used for front end client side logging.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIntegrating the browser agent was a simple task of adding a logging script to the HTML page hosting the app ... easy so far. Because Electron is effectively loading up a chromium browser, the browser agent should work as normal. The APM Agent on the other hand was a different story, after having scoured the internet I found that its currently not supported with Electron. In fact if you look at the documentation for Electron, there is a suspicious absence of logging documentation. This might be down to the unique way Electrons IPC channels (inter-process-communication, allows for backend and front end communication using an event based model) work.\u003c/p\u003e\n\u003cp\u003eDue to this I knew we would require a manual approach to logging, this is where Open Telemetry comes into play. Using Open Telemetry we can bootstrap the app on startup and start manually adding tracing logs in any backend IPC handler. Since most logging providers now support Open Telemetry, including New Relic we have a mechanism to export out logs out.\u003c/p\u003e\n\u003cp\u003eThis article was created as a complete guide to the approach mentioned above. Due to the lack of examples and documentation online I hope this article comes in use for someone. In the example below I was using Electron with Vite and Typescript.\u003c/p\u003e\n\u003ch1\u003eInstalling Dependencies\u003c/h1\u003e\n\u003cp\u003eTo get started open telemetry has a couple of packages that need installing,\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e1\u003c/span\u003e\u003cspan class=\"line-content\"\u003enpm install @opentelemetry/api\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e2\u003c/span\u003e\u003cspan class=\"line-content\"\u003enpm install @opentelemetry/auto-instrumentations-node\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e3\u003c/span\u003e\u003cspan class=\"line-content\"\u003enpm install @opentelemetry/exporter-trace-otlp-http\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e4\u003c/span\u003e\u003cspan class=\"line-content\"\u003enpm install @opentelemetry/instrumentation\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e5\u003c/span\u003e\u003cspan class=\"line-content\"\u003enpm install @opentelemetry/resources\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e6\u003c/span\u003e\u003cspan class=\"line-content\"\u003enpm install @opentelemetry/semantic-conventions\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ch1\u003eBootstrapping the App\u003c/h1\u003e\n\u003cp\u003eThe first step to integration is to connect into the startup process of Electron and instrument our Open Telemetry tracer. As Open Telemetry allows you to export your logs to multiple 3rd parties the example below will first show you how to get started with Jaeger an open source tracing sink and then expand this to New Relic.\u003c/p\u003e\n\u003ch2\u003eHooking into Startup\u003c/h2\u003e\n\u003cp\u003eThe first part of coding is to hook into the startup process your application. Electron conveniently has a \u003ccode\u003ewhenReady()\u003c/code\u003e function that is called when electron has finished initialising. We can make use of this function to register our tracer.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s first start by creating a \u003ccode\u003etracing.ts\u003c/code\u003e file in the root of the application. In this file we will have two functions, one to register a tracer and another to get the tracer. We are also going to pass through some useful information to the tracer like the application version, and operating system so that all our logs have some base information they can relay back to New Relic.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e1\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e registerTracer = (\u003cspan class=\"hljs-attr\"\u003eappVersion\u003c/span\u003e: string, \u003cspan class=\"hljs-attr\"\u003eoperatingSystem\u003c/span\u003e: string): \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003evoid\u003c/span\u003e =\u0026gt;\u003c/span\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e2\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\u003cspan class=\"hljs-comment\"\u003e//Registration code here\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e3\u003c/span\u003e\u003cspan class=\"line-content\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e4\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e5\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e getTracer = (): \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003eTracer\u003c/span\u003e =\u0026gt;\u003c/span\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e6\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\u003cspan class=\"hljs-comment\"\u003e//Code to get tracer here\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e7\u003c/span\u003e\u003cspan class=\"line-content\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNext we can call the register function on startup,\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e1\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { app } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;electron\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e2\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e3\u003c/span\u003e\u003cspan class=\"line-content\"\u003eapp.\u003cspan class=\"hljs-title function_\"\u003ewhenReady\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e4\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\u003cspan class=\"hljs-comment\"\u003e//For me this is the version defined in my package.json\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e5\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e appVersion = app.\u003cspan class=\"hljs-title function_\"\u003egetVersion\u003c/span\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e6\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\u003cspan class=\"hljs-comment\"\u003e//Part of NodeJS\u0026#x27;s way of detirmining the platform\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e7\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e operatingSystem = process.\u003cspan class=\"hljs-property\"\u003eplatform\u003c/span\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e8\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e9\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\u003cspan class=\"hljs-title function_\"\u003eregisterTracer\u003c/span\u003e(appVersion, operatingSystem);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e10\u003c/span\u003e\u003cspan class=\"line-content\"\u003e});\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eConfiguring the Tracer\u003c/h2\u003e\n\u003cp\u003eNow that we have some functions to hook into we can flesh them out with our configuration. For ease of copy and paste im going to first code dump and the file then explain each part.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e1\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-comment\"\u003e/*tracing.ts*/\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e2\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eBatchSpanProcessor\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@opentelemetry/sdk-trace-base\u0026quot;\u003c/span\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e3\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eResource\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@opentelemetry/resources\u0026quot;\u003c/span\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e4\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eSemanticResourceAttributes\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@opentelemetry/semantic-conventions\u0026quot;\u003c/span\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e5\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e6\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  \u003cspan class=\"hljs-title class_\"\u003eNodeTracerProvider\u003c/span\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e7\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  \u003cspan class=\"hljs-title class_\"\u003eSimpleSpanProcessor\u003c/span\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e8\u003c/span\u003e\u003cspan class=\"line-content\"\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@opentelemetry/sdk-trace-node\u0026quot;\u003c/span\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e9\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { registerInstrumentations } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@opentelemetry/instrumentation\u0026quot;\u003c/span\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e10\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eOTLPTraceExporter\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@opentelemetry/exporter-trace-otlp-http\u0026quot;\u003c/span\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e11\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e12\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e opentelemetry, { \u003cspan class=\"hljs-title class_\"\u003eTracer\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@opentelemetry/api\u0026quot;\u003c/span\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e13\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { getNodeAutoInstrumentations } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@opentelemetry/auto-instrumentations-node\u0026quot;\u003c/span\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e14\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e15\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eNEWRELIC_APP_NAME\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;APP NAME GOES HERE\u0026quot;\u003c/span\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e16\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eIS_DEVELOPMENT\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003emeta\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eenv\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eDEV\u003c/span\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e17\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e18\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e registerTracer = (\u003cspan class=\"hljs-attr\"\u003eappVersion\u003c/span\u003e: string, \u003cspan class=\"hljs-attr\"\u003eoperatingSystem\u003c/span\u003e: string): \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003evoid\u003c/span\u003e =\u0026gt;\u003c/span\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e19\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  \u003cspan class=\"hljs-title function_\"\u003eregisterInstrumentations\u003c/span\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e20\u003c/span\u003e\u003cspan class=\"line-content\"\u003e    \u003cspan class=\"hljs-attr\"\u003einstrumentations\u003c/span\u003e: [\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e21\u003c/span\u003e\u003cspan class=\"line-content\"\u003e      \u003cspan class=\"hljs-title function_\"\u003egetNodeAutoInstrumentations\u003c/span\u003e(),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e22\u003c/span\u003e\u003cspan class=\"line-content\"\u003e      \u003cspan class=\"hljs-comment\"\u003e//\u003cspan class=\"hljs-doctag\"\u003eTODO:\u003c/span\u003e Add an instrumentation library here when electron is supported\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e23\u003c/span\u003e\u003cspan class=\"line-content\"\u003e    ],\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e24\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e25\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e26\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e resource = \u003cspan class=\"hljs-title class_\"\u003eResource\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003edefault\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003emerge\u003c/span\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e27\u003c/span\u003e\u003cspan class=\"line-content\"\u003e    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eResource\u003c/span\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e28\u003c/span\u003e\u003cspan class=\"line-content\"\u003e      [\u003cspan class=\"hljs-title class_\"\u003eSemanticResourceAttributes\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eSERVICE_NAME\u003c/span\u003e]: \u003cspan class=\"hljs-variable constant_\"\u003eNEWRELIC_APP_NAME\u003c/span\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e29\u003c/span\u003e\u003cspan class=\"line-content\"\u003e      [\u003cspan class=\"hljs-title class_\"\u003eSemanticResourceAttributes\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eSERVICE_VERSION\u003c/span\u003e]: appVersion,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e30\u003c/span\u003e\u003cspan class=\"line-content\"\u003e      [\u003cspan class=\"hljs-title class_\"\u003eSemanticResourceAttributes\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eOS_NAME\u003c/span\u003e]: operatingSystem,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e31\u003c/span\u003e\u003cspan class=\"line-content\"\u003e    })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e32\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  );\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e33\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e34\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e provider = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eNodeTracerProvider\u003c/span\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e35\u003c/span\u003e\u003cspan class=\"line-content\"\u003e    \u003cspan class=\"hljs-attr\"\u003eresource\u003c/span\u003e: resource,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e36\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e37\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e38\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e otlpExporter = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eOTLPTraceExporter\u003c/span\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e39\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\u003cspan class=\"hljs-comment\"\u003e//Jaeger tracing url\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e40\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\u003cspan class=\"hljs-attr\"\u003eurl\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;http://localhost:4318/v1/traces\u0026#x27;\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e41\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e42\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e43\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e processor = \u003cspan class=\"hljs-variable constant_\"\u003eIS_DEVELOPMENT\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e44\u003c/span\u003e\u003cspan class=\"line-content\"\u003e    ? \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSimpleSpanProcessor\u003c/span\u003e(otlpExporter)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e45\u003c/span\u003e\u003cspan class=\"line-content\"\u003e    : \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBatchSpanProcessor\u003c/span\u003e(otlpExporter);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e46\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e47\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  provider.\u003cspan class=\"hljs-title function_\"\u003eaddSpanProcessor\u003c/span\u003e(processor);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e48\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  provider.\u003cspan class=\"hljs-title function_\"\u003eregister\u003c/span\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e49\u003c/span\u003e\u003cspan class=\"line-content\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cem\u003eNote \u003ccode\u003eimport.meta.env\u003c/code\u003e is just Vite\u0026#39;s way of getting hold of environment variables.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eYou might firstly notice that there is a \u003ccode\u003eTODO\u003c/code\u003e in the code, if and when Electron supports a plugin style integration with open telemetry, the \u003ccode\u003einstrumentations\u003c/code\u003e array will be the place to add it. For now we are manually instrumenting the app.\u003c/p\u003e\n\u003cp\u003eThe resources section is given to use using the \u003ccode\u003e@opentelemetry/resources\u003c/code\u003e and \u003ccode\u003e@opentelemetry/semantic-conventions\u003c/code\u003e packages. It allows us to define some base properties we want to show in all our tracing logs. Obvious things like the app version, and operating systems (especially if your targeting multiple systems) are really useful bits of information to add. There are also some built in attributes for Kubernetes and oddly enough AWS (with some generic ones for other cloud providers).\u003c/p\u003e\n\u003cp\u003eIn terms of the \u003ccode\u003eOTLPTraceExporter\u003c/code\u003e block, as we opted to do our tracing using HTTP (GRPC is also an option) with the package \u003ccode\u003e@opentelemetry/exporter-trace-otlp-http\u003c/code\u003e i have added some basic settings for Jaeger. Note that you can add a number of exporters here, and we will also be extending this to include New Relic.\u003c/p\u003e\n\u003cp\u003eThe final part in question is the processors themselves, open telemetry has a few options on how you might want to push your logs to 3rd parties. Ive opted to use a \u003ccode\u003eSimpleSpanProcessor\u003c/code\u003e when running the app locally so that my logs are immediately pushed to the servers when testing things out. However in production im making use of a \u003ccode\u003eBatchSpanProcessor\u003c/code\u003e that batches a group of logs and then pushes them in one go. This helps reduce network traffic of the app.\u003c/p\u003e\n\u003ch2\u003eExposing a Tracer\u003c/h2\u003e\n\u003cp\u003eIn order to get an actual tracer we can get an instance from the global tracing provider using the \u003ccode\u003egetTracer()\u003c/code\u003e function. This tracer object then allows us to create logs in the shape of a \u003ccode\u003esnap\u003c/code\u003e. It is advised to call \u003ccode\u003egetTracer\u003c/code\u003e every time you need to start logging as opposed to maintaining your own instance.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e1\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eGetTracer\u003c/span\u003e = () : \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003eTracer\u003c/span\u003e =\u0026gt;\u003c/span\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e2\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e opentelemetry.\u003cspan class=\"hljs-property\"\u003etrace\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetTracer\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eNEWRELIC_APP_NAME\u003c/span\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e3\u003c/span\u003e\u003cspan class=\"line-content\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ch1\u003eAdding a Tracing Example\u003c/h1\u003e\n\u003cp\u003eNow that we have added all our logging code we can finally create an actual log entry. To do this we can create a new span, in which we can raise new events and record exceptions. In the example below i\u0026#39;ve added some logging to an IPC handler.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e1\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { ipcMain } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;electron\u0026#x27;\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e2\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eGetTracer\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;./tracing\u0026#x27;\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e3\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e4\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecreateWindow\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u0026gt; {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e5\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\u003cspan class=\"hljs-comment\"\u003e//Create new browser window\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e6\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\tipcMain.\u003cspan class=\"hljs-title function_\"\u003ehandle\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;getDinosaurs\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-title function_\"\u003easync\u003c/span\u003e () =\u0026gt; {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e7\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\t\u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eGetTracer\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003estartActiveSpan\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;getDinosaurs\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-title function_\"\u003easync\u003c/span\u003e (span) =\u0026gt; {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e8\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\t\t\u003cspan class=\"hljs-comment\"\u003e//await getDinosaurs()\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e9\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e10\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\t\t\u003cspan class=\"hljs-comment\"\u003e//Record one or many events in your code blocks\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e11\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\t\tspan.\u003cspan class=\"hljs-title function_\"\u003eaddEvent\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;receivedDinosaur\u0026quot;\u003c/span\u003e, { \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: dinoName  });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e12\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\t\t\u003cspan class=\"hljs-comment\"\u003e//Record exceptions in your code block\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e13\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\t\tspan.\u003cspan class=\"hljs-title function_\"\u003erecordException\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eError\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`Ops their all extinct!`\u003c/span\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e14\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\t\tspan.\u003cspan class=\"hljs-title function_\"\u003eend\u003c/span\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e15\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\t});\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e16\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t});\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e17\u003c/span\u003e\u003cspan class=\"line-content\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ch1\u003eTesting with Jaeger\u003c/h1\u003e\n\u003cp\u003eTo test this out with Jaeger you can first execute the following docker command to create a new instance of Jaeger with OTLP enabled.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e1\u003c/span\u003e\u003cspan class=\"line-content\"\u003edocker run -d --name jaeger \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e2\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  -e COLLECTOR_ZIPKIN_HOST_PORT=:9411 \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e3\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  -e COLLECTOR_OTLP_ENABLED=\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e4\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  -p 6831:6831/udp \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e5\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  -p 6832:6832/udp \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e6\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  -p 5778:5778 \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e7\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  -p 16686:16686 \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e8\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  -p 4317:4317 \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e9\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  -p 4318:4318 \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e10\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  -p 14250:14250 \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e11\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  -p 14268:14268 \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e12\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  -p 14269:14269 \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e13\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  -p 9411:9411 \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e14\u003c/span\u003e\u003cspan class=\"line-content\"\u003e  jaegertracing/all-in-one:latest\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eOnce up and running you can navigate to the default UI url \u003ca href=\"http://localhost:16686/\"\u003ehttp://localhost:16686/\u003c/a\u003e to start viewing your logs. It order to get something showing up you will need to run the app and begin pushing some logs to Jaeger.\u003c/p\u003e\n\u003ch1\u003eSetting up New Relic\u003c/h1\u003e\n\u003cp\u003eEverything is now setup from a code perspective, its time to create everything we need in New Relic. This step is quite quick and painless, a new key can be created from the API Keys section. Once there follow the \u003cstrong\u003eCreate a Key\u003c/strong\u003e button. The form requires the following,\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAccount - Set this to whatever you want\u003c/li\u003e\n\u003cli\u003eKey Type - Set this to \u003cstrong\u003eIngest - Licence\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eName - Set this to whatever you want, however it does make sense to match this up with the service name set in the section \u0026quot;Configuring the Tracer\u0026quot;\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg src=\"//images.ctfassets.net/wjg1udsw901v/3Eg3DL2escQx6jZdQsZYBQ/973a748bad74f91ecac6bd711f31f37a/new-relic-adding-new-api-key.png\" alt=\"new-relic-adding-new-api-key\"\u003e\u003c/p\u003e\n\u003cp\u003eOnce thats created you should get an option to copy the key which is passed into your \u003ccode\u003eOTLPTraceExporter\u003c/code\u003e. As for the URL you can find New Relics OTLP endpoints on this \u003ca href=\"https://docs.newrelic.com/docs/more-integrations/open-source-telemetry-integrations/opentelemetry/get-started/opentelemetry-set-up-your-app/\"\u003elink\u003c/a\u003e. Now that we have the settings needed we can change the \u003ccode\u003eOTLPTraceExporter\u003c/code\u003e to include the New Relic settings.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e1\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e otlpExporter = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eOTLPTraceExporter\u003c/span\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e2\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\u003cspan class=\"hljs-attr\"\u003eurl\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;https://otlp.nr-data.net:443\u0026#x27;\u003c/span\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e3\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\u003cspan class=\"hljs-attr\"\u003eheaders\u003c/span\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e4\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t  \u003cspan class=\"hljs-string\"\u003e\u0026quot;api-key\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e`API KEY GOES HERE`\u003c/span\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e5\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t},\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e6\u003c/span\u003e\u003cspan class=\"line-content\"\u003e});\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eOnce setup you will need to send your first log before anything appears in New Relic. Once you have results will show up in APM \u0026amp; Services \u0026gt; Services - OpenTelemetry \u0026gt; Click on your app name \u0026gt; Distributed Tracing. You can drill down to view the span events and attributes.\u003c/p\u003e\n\u003cp\u003eNew Relic also has a second method of viewing your logs through the use of NRQL queries. You can query your data by visiting \u003cstrong\u003eQuery Your Data\u003c/strong\u003e and entering the following query,\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-sql\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e1\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e*\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e2\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e SpanEvent \u003cspan class=\"hljs-keyword\"\u003eWHERE\u003c/span\u003e span.id \u003cspan class=\"hljs-keyword\"\u003eIN\u003c/span\u003e ( \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e3\u003c/span\u003e\u003cspan class=\"line-content\"\u003e\t\u003cspan class=\"hljs-keyword\"\u003eSELECT\u003c/span\u003e id \u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e Span \u003cspan class=\"hljs-keyword\"\u003eWHERE\u003c/span\u003e otel.library.name \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;YOUR APP NAME HERE\u0026#x27;\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"code-line\"\u003e\u003cspan class=\"line-number\"\u003e4\u003c/span\u003e\u003cspan class=\"line-content\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAnd thats it, hope this was useful for someone! Before you get integrating note that there might be some logging providers that have a much easier integration with New Relic, \u003ca href=\"https://docs.sentry.io/platforms/javascript/guides/electron/\"\u003esentry.io\u003c/a\u003e seems like one of them.\u003c/p\u003e\n"])</script><script>self.__next_f.push([1,"13:[\"$\",\"div\",null,{\"className\":\"page-module__dgei_G__content\",\"dangerouslySetInnerHTML\":{\"__html\":\"$16\"}}]\n14:[\"$\",\"$L12\",null,{\"url\":\"https://www.faesel.com/blog/electron-newrelic-integration-using-open-telemetry\",\"title\":\"Electron \u0026 New Relic Integration Using Open Telemetry\",\"description\":\"\\n# Introduction\\n\\nRecently I encountered a scenario where I needed to integrate New Relic into my Electron application. New Relic supports a number of integratio\"}]\n"])</script></body></html>